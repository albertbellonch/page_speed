#!/usr/bin/env ruby
# encoding: utf-8

$:.unshift(File.dirname(__FILE__) + '/../lib')
require 'thor'
require 'page_speed'

class PageSpeedCLI < Thor
  # Mappings
  map "-V" => :version

  # Analyze
  desc "analyze URL", "a Google's Page Speed port"
  method_option :requests, :desc => "The first requests' number to analyze", :type => :numeric, :default => 0, :aliases => "-url"
  def analyze(url)
    PageSpeed::analyze(url)
  end

  # Get version
  desc "version", "get the version"
  def version
    puts PageSpeed::VERSION
  end
end

PageSpeedCLI.start
